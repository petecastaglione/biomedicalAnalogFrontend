Version 4
SHEET 1 880 892
WIRE -144 192 -192 192
WIRE -128 192 -144 192
WIRE 80 192 -128 192
WIRE 96 192 80 192
WIRE 432 192 96 192
WIRE 448 192 432 192
WIRE -128 240 -128 192
WIRE 80 240 80 192
WIRE -144 288 -144 192
WIRE -128 288 -144 288
WIRE -48 288 -80 288
WIRE 32 288 -48 288
WIRE 96 288 96 192
WIRE 96 288 80 288
WIRE 432 352 432 192
WIRE -128 384 -128 336
WIRE -48 384 -48 288
WIRE -48 384 -128 384
WIRE 80 400 80 336
WIRE 160 400 80 400
WIRE 384 400 160 400
WIRE 448 400 448 192
WIRE 448 400 432 400
WIRE 160 480 160 400
WIRE 208 480 160 480
WIRE 432 480 432 448
WIRE 432 480 352 480
WIRE -128 528 -128 384
WIRE 80 528 80 400
WIRE -176 576 -208 576
WIRE 16 576 -128 576
WIRE 80 576 16 576
WIRE 160 576 128 576
WIRE 432 576 432 480
WIRE 496 576 432 576
WIRE -352 640 -352 592
WIRE -256 640 -352 640
WIRE -128 656 -128 624
WIRE -16 656 -128 656
WIRE 80 656 80 624
WIRE 80 656 -16 656
WIRE -352 688 -352 640
WIRE -16 688 -16 656
WIRE 432 688 432 576
WIRE -352 736 -368 736
WIRE -256 736 -256 640
WIRE -256 736 -304 736
WIRE -144 736 -256 736
WIRE -64 736 -144 736
WIRE 0 736 -16 736
WIRE 384 736 80 736
WIRE 448 736 432 736
WIRE -144 800 -144 736
WIRE 80 800 80 736
WIRE 80 800 -144 800
WIRE -368 832 -368 736
WIRE -368 832 -400 832
WIRE -352 832 -352 784
WIRE -352 832 -368 832
WIRE -16 832 -16 784
WIRE -16 832 -352 832
WIRE 0 832 0 736
WIRE 0 832 -16 832
WIRE 16 832 16 576
WIRE 16 832 0 832
WIRE 432 832 432 784
WIRE 432 832 16 832
WIRE 448 832 448 736
WIRE 448 832 432 832
FLAG 160 576 IP
IOPIN 160 576 In
FLAG -208 576 IM
IOPIN -208 576 In
FLAG 496 576 out
IOPIN 496 576 Out
FLAG -352 592 Iref
IOPIN -352 592 In
FLAG -400 832 $G_vss
IOPIN -400 832 BiDir
FLAG -192 192 $G_vdd
IOPIN -192 192 BiDir
SYMBOL nmosb -304 688 M0
SYMATTR InstName M8
SYMATTR Value cmosn
SYMATTR Value2 l={L} w={W} ad={Ldif*W} as={Ldif*W} pd={(Ldif+W)*2} ps={(Ldif+W)*2} m=1
SYMBOL pmosb -80 240 M0
SYMATTR InstName M3
SYMATTR Value cmosp
SYMATTR Value2 l={L} w={W} ad={Ldif*W} as={Ldif*W} pd={(Ldif+W)*2} ps={(Ldif+W)*2} m=1
SYMBOL cap 352 464 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName CM
SYMATTR Value {CM}
SYMBOL res 304 464 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value {RM}
SYMBOL nmosb -64 688 R0
SYMATTR InstName M5
SYMATTR Value cmosn
SYMATTR Value2 l={L} w={W} ad={Ldif*W} as={Ldif*W} pd={(Ldif+W)*2} ps={(Ldif+W)*2} m=1
SYMBOL nmosb 128 528 M0
SYMATTR InstName M2
SYMATTR Value cmosn
SYMATTR Value2 l={L} w={W} ad={Ldif*W} as={Ldif*W} pd={(Ldif*W)*2} ps={(Ldif*W)*2} m=1
SYMBOL nmosb -176 528 R0
SYMATTR InstName M1
SYMATTR Value cmosn
SYMATTR Value2 l={L} w={W} ad={Ldif*W} as={Ldif*W} pd={(Ldif+W)*2} ps={(Ldif+W)*2} m=1
SYMBOL nmosb 384 688 R0
SYMATTR InstName M7
SYMATTR Value cmosn
SYMATTR Value2 l={L} w={W} ad={Ldif*W} as={Ldif*W} pd={(Ldif+W)*2} ps={(Ldif+W)*2} m=1
SYMBOL pmosb 32 240 R0
SYMATTR InstName M4
SYMATTR Value cmosp
SYMATTR Value2 l={L} w={W} ad={Ldif*W} as={Ldif*W} pd={(Ldif+W)*2} ps={(Ldif+W)*2} m=1
SYMBOL pmosb 384 352 R0
SYMATTR InstName M6
SYMATTR Value cmosp
SYMATTR Value2 l={L} w={W} ad={Ldif*W} as={Ldif*W} pd={(Ldif+W)*2} ps={(Ldif+W)*2} m=1
TEXT -456 368 Left 2 !.param Ldif=0.2u L=1u W=1u
TEXT -456 336 Left 2 !.param CM= RM=1
